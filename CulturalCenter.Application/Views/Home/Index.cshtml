@using CulturalCenter.Application.Areas.Identity.Pages.Account
@using CulturalCenter.Application.Areas.Identity.Data
@using Microsoft.AspNetCore.Identity
@using System.Linq 
@inject SignInManager<CulturalCenterApplicationUser> SignInManager
@inject UserManager<CulturalCenterApplicationUser> UserManager

@{
    ViewData["Title"] = "Cultural Center";
}

<link rel="stylesheet" href="~/css/index.css" asp-append-version="true" />

<div class="container my-5">
    <!-- Section: Welcome -->
    <section class="mb-5">
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="~/images/librar.jpg" class="img-fluid" alt="Cultural Center">
            </div>
            <div class="col-md-6">
                <h2 class="display-4">Welcome to the Cultural Center</h2>
                <p class="lead">Our cultural center celebrates heritage, promotes the arts, and offers a wide range of books, exhibitions, and events. Join us and explore a world full of knowledge, arts, and culture.</p>
            </div>
        </div>
    </section>

    <!-- Section: Available Books -->
    <section class="mb-5">
        <h2 class="mb-4 text-center">Available Books</h2>
        <div class="row">
            <!-- Display first three books -->
            @foreach (var book in Model.Books)
            {
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <img src="/images/books/book@(book.Id.ToString()).jpg" alt="Book Image"
                             onerror="this.onerror=null;this.src='/images/default-book.jpg';" / style="width: 100%; 
        height: 300px;">
                        <div class="card-body">
                            <h5 class="card-title">@book.Name</h5>
                            <p><strong>Publication Date:</strong> @book.DateOfPublication.ToString("yyyy-MM-dd")</p>
                            <p><strong>Price:</strong> @book.Price.ToString("C")</p>
                        <a href="@Url.Action("Details", new { id =book.Id })" class="btn btn-primary">More Info</a>
                        </div>
                    </div>
                </div>
            }
        </div>
        <!-- View More Books Button -->
        <div class="text-center">
            <a href="@Url.Action("Index", "Books")" class="btn btn-primary mt-3">View More Books</a>
        </div>
    </section>

    <!-- Section: Available Exhibitions -->
    <section class="mb-5">
        <h2 class="mb-4 text-center">Available Exhibitions</h2>
        <div class="row">
            <!-- Display first three exhibitions -->
            @foreach (var exhibition in Model.Exhibitions)
            {
                <div class="col-md-4 mb-4">
                    <div class="card h-100 shadow-sm">
                        <img src="~/images/معرض2.jpg" class="card-img-top" alt="@exhibition.Name">
                        <div class="card-body">
                            <h5 class="card-title text-center">@exhibition.Name</h5>
                            <p class="card-text"><strong>Description:</strong> @exhibition.Discraption</p>
                            <p class="card-text"><strong>Start Date:</strong> @exhibition.StartDate.ToString("yyyy-MM-dd")</p>
                            <p class="card-text"><strong>End Date:</strong> @exhibition.EndDate.ToString("yyyy-MM-dd")</p>
                            <a href="@Url.Action("Details", "Exhibitions", new { id = exhibition.Exhibitionid })" class="btn btn-primary d-block mt-3">Learn More</a>
                        </div>
                        <div class="card-footer text-center">
                            <small class="text-muted">Exhibition from @exhibition.StartDate.ToString("MMMM dd, yyyy") to @exhibition.EndDate.ToString("MMMM dd, yyyy")</small>
                        </div>
                    </div>
                </div>
            }
        </div>
        <!-- View More Exhibitions Button -->
        <div class="text-center">
            <a href="@Url.Action("Index", "Exhibitions")" class="btn btn-primary mt-3">View More Exhibitions</a>
        </div>
    </section>

    <!-- Section: About the Library -->
    <section class="mb-5">
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="~/images/cultural-azaz.jpg" class="img-fluid" alt="Library">
            </div>
            <div class="col-md-6">
                <h2>The Cultural Center Library</h2>
                <p>Our library is one of the most significant resources, offering a wide variety of books across many fields. Whether you're interested in cultural heritage, the arts, literature, or history, our library has something for you. Visit us and immerse yourself in knowledge.</p>
            </div>
        </div>
    </section>
</div>

